/* ================= BASE SETUP ================= */
.background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  overflow: hidden;
  transition: background 1s ease-in-out;
}


.fog-container, .star, .rain-container {
  display: none;
}

/* ================= 1. MORNING (Clear + Fog) ================= */
.background.morning-clear {
  background: linear-gradient(to bottom, #56CCF2, #ffbf85);
}

.background.morning-clear .fog-container {
  display: block;
}

/* ================= 2. NIGHT (Dark + Shooting Star) ================= */
.background.night-clear {
  background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
}

.background.night-clear .star {
  display: block;
  position: absolute;
  top: 30%;
  left: 80%;
  width: 4px;
  height: 4px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 0 4px rgba(255,255,255,0.1), 0 0 0 8px rgba(255,255,255,0.1), 0 0 20px rgba(255,255,255,1);
  animation: shootingStar 6s linear infinite;
  opacity: 0;
}

.background.night-clear .star::before {
  content: '';
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 200px;
  height: 1px;
  background: linear-gradient(90deg, #fff, transparent);
}

/* Star Animation Logic */
@keyframes shootingStar {
  0% { transform: rotate(315deg) translateX(0); opacity: 1; }
  70% { opacity: 1; }
  100% { transform: rotate(315deg) translateX(-1000px); opacity: 0; }
}


/* ================= 3. CLOUDY (Grey Fog) ================= */
.background.cloudy {
  background: linear-gradient(to bottom, #606c88, #3f4c6b); 
  z-index: 0; 
}

.background.cloudy .fog-img-1,
.background.cloudy .fog-img-2 {
  filter: brightness(0.7) grayscale(100%);
  opacity: 0.9 !important; 
}

/* ================= FOG ANIMATION ================= */
.fog-container {
display: block;
position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100dvh;
  overflow: hidden;
  z-index: 1;
}

/* Layer 1 */
.fog-img-1 {
  position: absolute;
  height: 100dvh;
  width: 300vw;
  z-index: 2;
  background-image: url('/images/fog1.png');
  background-size: auto 100%;
  background-repeat: repeat-x;
  opacity: 1.0; 
  animation: fogMove 60s linear infinite;
}

/* Layer 2 */
.fog-img-2 {
  position: absolute;
  height: 100dvh;
  width: 300vw;
  z-index: 3;
  background-image: url('/images/fog2.png');
  background-size: auto 100%;
  background-repeat: repeat-x;
  opacity: 0.8; 
  animation: fogMove 30s linear infinite;
}

@keyframes fogMove {
  0% { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(-200vw, 0, 0); }
}


/* ================= 4. RAINY ================= */
.background.rainy {
  background: #0f172a;
}

.background.rainy .rain-container {
  display: block !important;
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 99;
}

.rain-texture {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/images/rain.jpeg');
  background-size: 500px 500px;
  mix-blend-mode: screen; 
  opacity: 0.7;
  animation: rainScroll 0.8s linear infinite;
}

@keyframes rainScroll {
  0% { background-position: 0 0; }
  100% { background-position: 0 500px; }
}


/* ================= 5. SNOWY ================= */
.background.snowy {
  background: linear-gradient(to bottom, #83a4d4, #b6fbff); 
}

.snow-container {
  position: absolute;
  width: 100%;
  height: 100%;
  z-index: 2;
  pointer-events: none;
}

.snow-flake {
  position: absolute;
  background: white;
  border-radius: 50%;
  top: -10px;
  filter: blur(1px); 
  animation: snowFall linear infinite;
}

.snow-flake:nth-child(2n) { 
  width: 4px; height: 4px; 
  opacity: 0.8; 
  animation-duration: 8s; 
}

.snow-flake:nth-child(2n+1) { 
  width: 3px; height: 3px; 
  opacity: 0.6; 
  animation-duration: 6s; 
}

.snow-flake:nth-child(3n) { 
  width: 6px; height: 6px; 
  opacity: 0.9; 
  animation-duration: 10s; 
  filter: blur(2px);
}

.snow-flake:nth-child(1) { left: 10%; animation-delay: 0s; }
.snow-flake:nth-child(2) { left: 20%; animation-delay: 2s; }
.snow-flake:nth-child(3) { left: 30%; animation-delay: 4s; }
.snow-flake:nth-child(4) { left: 40%; animation-delay: 1s; }
.snow-flake:nth-child(5) { left: 50%; animation-delay: 3s; }
.snow-flake:nth-child(6) { left: 60%; animation-delay: 0s; }
.snow-flake:nth-child(7) { left: 70%; animation-delay: 2.5s; }
.snow-flake:nth-child(8) { left: 80%; animation-delay: 1s; }
.snow-flake:nth-child(9) { left: 90%; animation-delay: 3.5s; }
.snow-flake:nth-child(10) { left: 25%; animation-delay: 1.5s; }
.snow-flake:nth-child(11) { left: 75%; animation-delay: 0.5s; }

@keyframes snowFall {
  0% { 
    transform: translateY(-10px) translateX(0px); 
    opacity: 0;
  }
  10% { opacity: 1; }
  50% { 
    transform: translateY(50vh) translateX(15px); 
    opacity: 0.8;
  } 
  100% { 
    transform: translateY(110vh) translateX(-15px);
    opacity: 0.4;
  } 
}